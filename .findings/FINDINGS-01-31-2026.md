# Findings: Bundled Historical Data is Simulated, Not Real

**Date:** 2026-01-31
**Issue:** Asset correlations appear incorrect (e.g., MSFT-GOOGL showing -0.07 instead of expected 0.6-0.8)

## Summary

The bundled preset data in `src/data/presets/stocks.json` is **NOT real historical data**. It was originally simulated future projections for 2025-2055 that were relabeled by shifting year labels back 30 years. The actual return values are fabricated, not real historical returns.

## Evidence

### Git History

Commit `7b53f1b` (2026-01-24) reveals:

```
fix(18-01): correct year labels in stocks.json to historical period (1995-2025)

- Updated startDate from "2025-01-01" to "1995-01-01"
- Updated endDate from "2055-12-31" to "2025-12-31"
- Shifted all year labels in returns arrays back by 30 years
- All 43 stocks now show correct historical period (1995-2025)
- Return values unchanged, only date labels corrected
```

### Data Anomalies

1. **GOOGL has data from 1995** - Google didn't IPO until August 2004
2. **MSFT-GOOGL correlation is -0.07** - Real historical correlation should be ~0.6-0.8
3. **All 43 tickers have identical date ranges (1995-2025)** - Many stocks weren't public in 1995

### File Location

- `src/data/presets/stocks.json` - 43 tickers with fabricated annual returns
- `src/data/presets/indices.json` - Additional indices (IWM, AGG)
- `src/data/services/preset-service.ts` - Service that loads this data

## Impact

- Correlation matrix calculations are mathematically correct but produce unrealistic results
- Portfolio diversification analysis is unreliable
- Expected returns and volatility figures don't reflect actual historical market behavior

## Recommendation

Replace `stocks.json` with actual historical return data fetched from a real financial data API:

- **FMP** (Financial Modeling Prep) - 250 calls/day free tier
- **EODHD** - 20 calls/day free tier, 30+ years of data
- **Alpha Vantage** - 25 calls/day free tier
- **Tiingo** - 50 calls/hour free tier, 30+ years of data

The `src/data/services/market-data-service.ts` already has integrations for these APIs. A data generation script could fetch real historical data and replace the bundled presets.

## Files Involved

| File | Purpose |
|------|---------|
| `src/data/presets/stocks.json` | Bundled (fake) stock returns |
| `src/data/presets/indices.json` | Bundled index returns |
| `src/data/services/preset-service.ts` | Loads bundled data |
| `src/data/services/market-data-service.ts` | Real API integrations |
| `src/math/correlation.ts` | Correlation calculation (correct) |

---
phase: 18-fix-regime-switching
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/data/presets/stocks.json
  - src/data/presets/indices.json
  - src/data/presets/sp500.json
autonomous: true

must_haves:
  truths:
    - "Preset data year labels represent actual historical years (1995-2025)"
    - "Date ranges in preset metadata reflect correct historical period"
    - "Historical returns are properly contextualized for users"
  artifacts:
    - path: "src/data/presets/stocks.json"
      provides: "Stock historical returns with corrected year labels"
      contains: "1995"
    - path: "src/data/presets/indices.json"
      provides: "Index historical returns with corrected year labels"
      contains: "1995"
    - path: "src/data/presets/sp500.json"
      provides: "S&P 500 historical returns with corrected year labels"
      contains: "1995"
  key_links:
    - from: "src/data/presets/*.json"
      to: "User understanding"
      via: "Year labels in return data"
      pattern: "\"date\": \"1995\""
---

<objective>
Fix preset data year labels to correctly represent historical data period (1995-2025 instead of 2025-2055).

Purpose: The preset data files currently show year labels 2025-2055 (future years) when the data actually represents historical returns from 1995-2025. This confuses users about what "historical" data means and when market events like the 2008 crisis occurred in the dataset.

Output: All three preset files (stocks.json, indices.json, sp500.json) will have corrected year labels shifted back by 30 years, with metadata reflecting the actual historical period.
</objective>

<execution_context>
@C:\Users\ungac\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\ungac\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-fix-regime-switching/18-RESEARCH.md

# Source files
@src/data/presets/stocks.json
@src/data/presets/indices.json
@src/data/presets/sp500.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix year labels in all preset JSON files</name>
  <files>src/data/presets/stocks.json, src/data/presets/indices.json, src/data/presets/sp500.json</files>
  <action>
Update all three preset files to shift year labels back by 30 years:

1. In each file, update the metadata fields:
   - `startDate`: "2025-01-01" → "1995-01-01"
   - `endDate`: "2055-12-31" → "2025-12-31"

2. In the `returns` array of each asset, update all `date` fields:
   - "2025" → "1995"
   - "2026" → "1996"
   - ... (subtract 30 from each year)
   - "2055" → "2025"

3. Verify data integrity:
   - Return values must NOT change (only date labels)
   - All assets must have same year range after transformation
   - No duplicate years allowed

Implementation approach:
- Use a script to transform all files consistently
- Or use find/replace in each file: for each year Y in 2025-2055, replace with Y-30

This is a data labeling fix only - the actual return values remain unchanged.
  </action>
  <verify>
1. Run `grep -c "\"date\": \"1995\"" src/data/presets/stocks.json` - should show count > 0
2. Run `grep -c "\"date\": \"2025\"" src/data/presets/stocks.json` - should show exactly 31 occurrences (one per stock for year 2025)
3. Run `grep "startDate" src/data/presets/stocks.json | head -1` - should show "1995-01-01"
4. Repeat for indices.json and sp500.json
  </verify>
  <done>
- All three preset files have year labels in range 1995-2025
- startDate is "1995-01-01" and endDate is "2025-12-31" in all files
- Return values are unchanged
- Application still builds successfully (`npm run build`)
  </done>
</task>

</tasks>

<verification>
- `npm run build` completes without errors
- Preset data loads correctly in application
- Year labels in UI reflect historical period (1995-2025)
</verification>

<success_criteria>
1. All preset JSON files have year labels in 1995-2025 range
2. Metadata startDate/endDate fields are corrected
3. Return values are identical (only labels changed)
4. Application builds and runs correctly
</success_criteria>

<output>
After completion, create `.planning/phases/18-fix-regime-switching/18-01-SUMMARY.md`
</output>

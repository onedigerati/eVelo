---
phase: 25-mobile-parameters-panel-optimization
plan: 03
type: execute
wave: 2
depends_on:
  - "25-01"
  - "25-02"
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Run Simulation button remains visible while scrolling through parameters on mobile"
    - "All parameter inputs are accessible and not hidden behind the sticky button"
    - "Touch interactions work reliably for all form inputs on mobile"
    - "Sticky button works in both expanded and collapsed sidebar states"
    - "Dark theme styling is correct for the sticky footer"
  artifacts: []
  key_links: []
---

<objective>
Verify all mobile parameters panel optimizations work correctly through human testing on mobile device or responsive DevTools.

Purpose: CSS changes require visual verification to ensure sticky positioning, touch targets, and safe area handling work as expected across different mobile scenarios.
Output: Verification that all Phase 25 success criteria are met through manual testing.
</objective>

<execution_context>
@C:\Users\ungac\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\ungac\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/25-mobile-parameters-panel-optimization/25-RESEARCH.md
@.planning/phases/25-mobile-parameters-panel-optimization/25-01-SUMMARY.md
@.planning/phases/25-mobile-parameters-panel-optimization/25-02-SUMMARY.md

Success Criteria from Phase 25 ROADMAP:
1. Run Monte Carlo Simulation button has fixed/sticky position always visible on mobile
2. Parameters panel scrolls independently while button remains anchored
3. All parameter sections fully accessible via scroll on mobile
4. Touch interactions work reliably for all form inputs
5. No content hidden behind sticky button (proper padding/margin)
6. Smooth scroll behavior within parameters panel
7. Button position works in both expanded and collapsed sidebar states
8. Dark theme styling maintained for sticky button area
9. Works correctly in Android Chrome browser (address bar hide/show, viewport changes)
10. Handles Android Chrome's 100vh quirks (use dvh or JavaScript fallback)
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Phase 25 Plans 01-02 implemented:
- Sticky Run Simulation button in sidebar footer (position: sticky, bottom: 0)
- Proper padding-bottom on sidebar-content to prevent overlap
- Safe area insets for iOS/Android devices
- Touch-optimized button (48px min-height, touch-action: manipulation)
- Dynamic viewport height (dvh) for Android Chrome
- Dark theme styling for sticky footer
  </what-built>
  <how-to-verify>
**Test Setup:**
1. Open dev server: `npm run dev`
2. Open browser DevTools (F12) and enable device toolbar (Ctrl+Shift+M)
3. Select "iPhone 12 Pro" or similar mobile device preset (375x812)

**Test Sequence:**

**Test 1: Sticky Button Visibility**
1. Click "eVelo Parameters" to expand sidebar (if collapsed)
2. Verify Run Simulation button is visible at bottom without scrolling
3. Scroll through parameter sections using mouse wheel
4. Verify button STAYS visible at bottom during scroll
5. Scroll all the way to bottom
6. Verify last parameter input (Sell Strategy - Dividend Yield slider) is fully visible and NOT hidden behind button

**Test 2: Touch Targets**
1. Hover over Run Simulation button
2. Verify button has proper size (visually ~48px or more in height)
3. Click the button - should have responsive feedback
4. Verify no double-tap zoom occurs on the button

**Test 3: Visual Separation**
1. Look at the sticky button footer area
2. Verify there is visible separation from scrolling content (shadow or border)
3. The button area should have solid background (not transparent)

**Test 4: Dark Theme**
1. Toggle to dark theme (Settings icon in header)
2. Verify sticky button footer has dark background
3. Verify shadow/border is visible in dark theme
4. Verify button text is readable

**Test 5: Expand/Collapse States**
1. Click "eVelo Parameters" to collapse sidebar (shows dashboard)
2. Verify dashboard displays correctly
3. Click "eVelo Parameters" to expand sidebar
4. Verify button is still sticky and visible at bottom

**Test 6: Android Chrome Simulation (Optional)**
1. In DevTools, select "Galaxy S20" or similar Android device
2. Repeat Test 1 and verify button stays visible
3. Try simulating address bar hide/show (resize viewport height)

**Expected Results:**
- Button always visible at bottom of sidebar on mobile
- Parameter sections scroll independently
- Visual separation between content and sticky footer
- All tests pass in both light and dark themes
  </how-to-verify>
  <resume-signal>
Type "approved" if all tests pass.
If issues found, describe what needs fixing:
- "sticky not working: button scrolls with content"
- "padding issue: last input hidden behind button"
- "dark theme: footer background incorrect"
- Or describe other specific issues observed.
  </resume-signal>
</task>

</tasks>

<verification>
Human verification completes all test cases listed above.
</verification>

<success_criteria>
- [ ] Test 1 PASS: Sticky button remains visible during parameter scroll
- [ ] Test 2 PASS: Touch targets are adequate size with proper feedback
- [ ] Test 3 PASS: Visual separation between sticky footer and content
- [ ] Test 4 PASS: Dark theme styling is correct
- [ ] Test 5 PASS: Button works in both expanded/collapsed sidebar states
- [ ] Test 6 PASS (optional): Works on Android viewport simulation
</success_criteria>

<output>
After completion, create `.planning/phases/25-mobile-parameters-panel-optimization/25-03-SUMMARY.md`
</output>

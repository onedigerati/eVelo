---
phase: 07-ui-components
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/styles/tokens.css
  - src/components/ui/range-slider.ts
  - src/components/ui/number-input.ts
  - src/components/ui/select-input.ts
  - src/components/ui/index.ts
autonomous: true

must_haves:
  truths:
    - "CSS custom properties are defined and usable from any component"
    - "Range slider accepts min/max/step/value and emits change events"
    - "Number input validates numeric input and emits change events"
    - "Select input renders options and emits change events"
  artifacts:
    - path: "src/styles/tokens.css"
      provides: "CSS design tokens (colors, spacing, typography, borders)"
      contains: "--color-primary"
    - path: "src/components/ui/range-slider.ts"
      provides: "Styled range input component"
      min_lines: 40
    - path: "src/components/ui/number-input.ts"
      provides: "Numeric input with validation"
      min_lines: 40
    - path: "src/components/ui/select-input.ts"
      provides: "Select dropdown component"
      min_lines: 40
  key_links:
    - from: "all UI components"
      to: "tokens.css"
      via: "var(--token-name) CSS custom properties"
    - from: "input components"
      to: "parent components"
      via: "CustomEvent with bubbles: true, composed: true"
---

<objective>
Create CSS design tokens and base input components for the UI layer.

Purpose: Establish consistent theming foundation and reusable form controls that all subsequent UI components will use.
Output: Design tokens CSS file and three input components (range-slider, number-input, select-input).
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-ui-components/07-RESEARCH.md
@src/components/base-component.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create CSS design tokens</name>
  <files>src/styles/tokens.css</files>
  <action>
Create CSS custom properties for design system. Define:

**Colors (light theme):**
- --color-primary: #0d9488 (teal)
- --color-primary-hover: #0f766e
- --color-success: #059669
- --color-warning: #d97706
- --color-error: #dc2626

**Surfaces:**
- --surface-primary: #ffffff
- --surface-secondary: #f8fafc
- --surface-tertiary: #e2e8f0

**Text:**
- --text-primary: #1e293b
- --text-secondary: #64748b
- --text-inverse: #ffffff

**Borders:**
- --border-color: #e2e8f0
- --border-radius-sm: 4px
- --border-radius-md: 8px
- --border-radius-lg: 12px

**Spacing:**
- --spacing-xs: 4px
- --spacing-sm: 8px
- --spacing-md: 16px
- --spacing-lg: 24px
- --spacing-xl: 32px

**Typography:**
- --font-family: system-ui, -apple-system, sans-serif
- --font-size-sm: 0.875rem
- --font-size-md: 1rem
- --font-size-lg: 1.25rem

**Layout:**
- --sidebar-width: 320px
- --sidebar-collapsed-width: 48px

**Dark theme placeholder:** Add [data-theme="dark"] section with inverted colors (will be implemented in Phase 9).

Import in src/style.css via @import './styles/tokens.css';
  </action>
  <verify>npm run build succeeds, tokens.css exists with all properties</verify>
  <done>Design tokens defined on :root, importable from any component via CSS custom properties</done>
</task>

<task type="auto">
  <name>Task 2: Create range-slider component</name>
  <files>src/components/ui/range-slider.ts</files>
  <action>
Create styled range input Web Component extending BaseComponent.

**Attributes (observedAttributes):**
- min: number (default 0)
- max: number (default 100)
- step: number (default 1)
- value: number (default 0)
- label: string (optional, displays above slider)
- show-value: boolean (optional, shows current value)

**Template:**
- Wrapper div with optional label
- Native input type="range" with attributes bound
- Optional value display span

**Styles:**
- Reset -webkit-appearance for cross-browser consistency
- Style ::webkit-slider-thumb and ::webkit-slider-runnable-track
- Style ::-moz-range-thumb and ::-moz-range-track
- Use design tokens for colors (--color-primary for thumb)
- Width: 100% by default

**Events:**
Dispatch CustomEvent 'change' with { bubbles: true, composed: true, detail: { value: number } } on input change.

**Value property:**
Add getter/setter for value that updates both attribute and internal input.

Pattern: Use native input with styling - do NOT hand-roll custom slider.
  </action>
  <verify>npm run build succeeds, range-slider renders and dispatches events</verify>
  <done>range-slider component accepts min/max/step/value, styles consistently cross-browser, emits change events</done>
</task>

<task type="auto">
  <name>Task 3: Create number-input and select-input components</name>
  <files>src/components/ui/number-input.ts, src/components/ui/select-input.ts, src/components/ui/index.ts</files>
  <action>
**number-input.ts:**
Create numeric input Web Component.

Attributes:
- min, max: number bounds (optional)
- step: number (default 1)
- value: number
- label: string (optional)
- suffix: string (optional, e.g., "%" or "years")

Template:
- Label span if label attribute set
- Native input type="number" with attributes
- Suffix span if suffix attribute set

Styles:
- Styled input with design tokens
- Inline suffix display

Events:
Dispatch 'change' with { bubbles: true, composed: true, detail: { value: number } }.
Parse input.valueAsNumber for detail.

**select-input.ts:**
Create select dropdown Web Component.

Attributes:
- options: JSON string array of { value, label } objects
- value: selected value
- label: string (optional)

Template:
- Label span if set
- Native select with option elements generated from options attribute

Styles:
- Styled select with design tokens
- Custom dropdown arrow via background-image or ::after pseudo

Events:
Dispatch 'change' with { bubbles: true, composed: true, detail: { value: string } }.

**index.ts:**
Create barrel export for UI components:
```typescript
export * from './range-slider';
export * from './number-input';
export * from './select-input';
```

Register all components in index.ts:
```typescript
import { RangeSlider } from './range-slider';
import { NumberInput } from './number-input';
import { SelectInput } from './select-input';

customElements.define('range-slider', RangeSlider);
customElements.define('number-input', NumberInput);
customElements.define('select-input', SelectInput);
```
  </action>
  <verify>npm run build succeeds, all three components render correctly</verify>
  <done>number-input and select-input components work with validation and events, barrel export created</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build succeeds without errors
- [ ] tokens.css imports correctly in style.css
- [ ] All three input components extend BaseComponent correctly
- [ ] CustomEvents use bubbles: true, composed: true for Shadow DOM crossing
- [ ] Range slider styles consistently in Chrome and Firefox
</verification>

<success_criteria>

- All tasks completed
- Design tokens usable from any component via var(--token-name)
- Input components emit change events that cross Shadow DOM boundary
- No TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/07-ui-components/07-01-SUMMARY.md`
</output>
